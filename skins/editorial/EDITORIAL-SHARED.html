<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DinnerMath Calculator</title>
  <meta name="dm-category" content="desserts">
  <style>
    /* Minimal structural styles (ASCII only) */
    :root { --line: #e6e6e6; --ink: #222; --muted: #666; --bg: #fff; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--ink); font-family: Arial, Helvetica, sans-serif; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 24px; }
    header { padding: 8px 0 16px; border-bottom: 1px solid var(--line); }
    h1 { margin: 0 0 6px; font-size: 32px; font-weight: 600; }
    .lede { color: var(--muted); font-size: 16px; }
    /* Steps */
    #inputs-container { display: block; }
    .step { border-top: 1px solid var(--line); padding: 24px 0; }
    .step:first-child { border-top: 0; }
    .step-head { display: flex; align-items: center; gap: 16px; margin-bottom: 12px; }
    .step-label { width: 28px; height: 28px; border-radius: 14px; display: inline-flex; align-items: center; justify-content: center; border: 1px solid var(--line); font-weight: 600; color: #8da0b5; }
    .step-title { margin: 0; font-size: 20px; }
    .hint { color: var(--muted); font-size: 14px; margin: 4px 0 0; }
    /* Cards / options */
    .cards { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 8px; }
    .card { border: 1px solid var(--line); border-radius: 8px; padding: 16px; }
    .row { display: flex; gap: 12px; align-items: center; }
    .row input[type="number"] { width: 90px; padding: 8px; }
    .quick { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px; }
    .preset { display: inline-block; padding: 6px 10px; border: 1px solid var(--line); border-radius: 999px; font-size: 13px; cursor: pointer; user-select: none; }
    /* Results */
    #results { border-top: 1px solid var(--line); padding: 24px 0; }
    .result-big { font-size: 28px; font-weight: 700; margin: 0 0 6px; }
    .chips { color: var(--muted); font-size: 14px; }
    footer { border-top: 1px solid var(--line); padding: 16px 0 0; color: var(--muted); font-size: 13px; }
    /* Basic responsive */
    @media (min-width: 720px) {
      .cards { grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1 id="page-title">{DESSERT NAME} Quantity Calculator</h1>
      <div class="lede">Enter guests and settings (or tap a preset). We will estimate how many servings you need (planning estimate).</div>
    </header>

    <main id="inputs-container">
      <!-- Step 1 (logical key: role). Runner may reorder dynamically -->
      <section id="s1" class="step" role="region" aria-label="Step 1: Role or Meal-Share" data-step-section>
        <div class="step-head">
          <div class="step-label">1</div>
          <div>
            <h2 class="step-title">Will this be the only dessert you are serving?</h2>
            <div class="hint">We will use this starting portion to customize your results.</div>
          </div>
        </div>
        <div class="cards">
          <label class="card"><div class="row"><input type="radio" name="role" value="1.00" data-label="Only dessert"> <div><strong>Only dessert (full serving)</strong><div class="hint">Full servings.</div></div></div></label>
          <label class="card"><div class="row"><input type="radio" name="role" value="0.60" data-label="One of several desserts"> <div><strong>One of several desserts</strong><div class="hint">Smaller serving.</div></div></div></label>
          <label class="card"><div class="row"><input type="radio" name="role" value="0.45" data-label="Small portion"> <div><strong>Small portion</strong><div class="hint">Tasting size.</div></div></div></label>
          <label class="card"><div class="row"><input type="radio" name="role" value="0.35" data-label="Tiny bite"> <div><strong>Tiny bite</strong><div class="hint">Mini portion.</div></div></div></label>
        </div>
      </section>

      <!-- Step 2 (logical key: guests) -->
      <section id="s2" class="step" role="region" aria-label="Step 2: Guests" data-step-section>
        <div class="step-head">
          <div class="step-label">2</div>
          <div>
            <h2 class="step-title">How many people are you serving?</h2>
            <div class="hint">Adults, Teens, Children.</div>
          </div>
        </div>
        <div class="row">
          <label>Adults <input id="adults" type="number" inputmode="numeric" min="0" value="5"></label>
          <label>Teens <input id="teens" type="number" inputmode="numeric" min="0" value="0"></label>
          <label>Children <input id="children" type="number" inputmode="numeric" min="0" value="0"></label>
        </div>
        <div class="quick">
          <span class="preset" data-preset="10">10</span>
          <span class="preset" data-preset="25">25</span>
          <span class="preset" data-preset="50">50</span>
          <span class="preset" data-preset="100">100</span>
        </div>
      </section>

      <!-- Step 3 (logical key: appetite) -->
      <section id="s3" class="step" role="region" aria-label="Step 3: Appetite" data-step-section>
        <div class="step-head">
          <div class="step-label">3</div>
          <div>
            <h2 class="step-title">How hungry is this crowd?</h2>
            <div class="hint">Choose the best fit. Phrases only; no numbers shown.</div>
          </div>
        </div>
        <div class="cards">
          <label class="card"><div class="row"><input type="radio" name="appetite" value="0.90" data-label="Light"> <div><strong>Light</strong><div class="hint">Lighter eaters.</div></div></div></label>
          <label class="card"><div class="row"><input type="radio" name="appetite" value="1.00" data-label="Moderate" checked> <div><strong>Moderate</strong><div class="hint">Average appetite.</div></div></div></label>
          <label class="card"><div class="row"><input type="radio" name="appetite" value="1.15" data-label="Generous"> <div><strong>Generous</strong><div class="hint">Bigger eaters.</div></div></div></label>
        </div>
      </section>

      <!-- Step 4 (logical key: controls; food-specific placeholders, runner may render/ignore) -->
      <section id="s4" class="step" role="region" aria-label="Step 4: Dessert options" data-step-section>
        <div class="step-head">
          <div class="step-label">4</div>
          <div>
            <h2 class="step-title">Dessert options</h2>
            <div class="hint">Calculator-specific options appear here if defined for this item.</div>
          </div>
        </div>
        <div id="food-specific-controls">
          <!-- Runner may populate based on registry/slug; placeholders kept minimal -->
          <div class="row"><label>Item input A (optional) <input id="item-input-a" type="text" placeholder="e.g., flavor or pan size"></label></div>
          <div class="row"><label>Item input B (optional) <input id="item-input-b" type="text" placeholder="e.g., slice size or toppings"></label></div>
        </div>
      </section>
    </main>

    <!-- Results -->
    <section id="results" role="region" aria-label="Results">
      <p class="result-big"><span id="result-number">0.0</span></p>
      <p class="chips" id="input-summary">Guests: 0/0/0 · Appetite: Moderate · Role: Only dessert</p>
      <footer>
        <p>The estimate above includes a small built-in cushion, so additional rounding up is generally unnecessary.</p>
      </footer>
    </section>
  </div>

  <!-- Shared loader tags only (no inline calculator JS) -->
  <script src="/engine/engine.v2.js"></script>
  <script src="/runner/runner.v2.js?v=4"></script>
</body>
</html>
