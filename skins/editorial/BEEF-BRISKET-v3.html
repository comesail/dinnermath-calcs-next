<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Beef Brisket Quantity Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Compat meta -->
  <meta name="dm-category" content="meat">
  <meta name="dm-food" content="beef brisket">
  <meta name="dm-portion-spec" content="v1.8">
  <meta name="dm-teen-ae" content="0.80">

  <!-- Skins (relative) -->
  <link rel="stylesheet" href="./editorial-v1.1.css">
  <link rel="stylesheet" href="./editorial-premium-v1.0.css">

  <!-- Engine/runner -->
  <script defer src="../../engine/engine.v2.js"></script>
  <script defer src="../../runner/runner.v2.js"></script>
</head>
<body class="dm-editorial">
  <main id="calculator" class="dm-grid">

    <!-- Header -->
    <section class="card header header--dark" data-section="header">
      <picture class="hero">
        <img src="./img/beef-brisket-slug-hero.jpg" alt="Sliced beef brisket on a board">
      </picture>
      <h1 class="calc-title dm-h1">Beef Brisket Calculator</h1>
      <p class="dm-lede">Plan how many pounds of brisket to buy for your crowd. Adjust guests, appetite, event length, and cut style.</p>
    </section>

    <!-- Inputs -->
    <section class="card inputs" data-section="inputs">

      <!-- Guests -->
      <div class="step" id="step-guests">
        <div class="step-label">Guests</div>
        <div class="fields three-up">
          <label for="input-adults">Adults</label>
          <input id="input-adults" inputmode="numeric" pattern="[0-9]*" autocomplete="off" value="10" data-hook="adults">
          <label for="input-teens">Teens</label>
          <input id="input-teens" inputmode="numeric" pattern="[0-9]*" autocomplete="off" value="0" data-hook="teens" data-ae="0.80">
          <label for="input-children">Children</label>
          <input id="input-children" inputmode="numeric" pattern="[0-9]*" autocomplete="off" value="0" data-hook="children">
        </div>
        <div class="whisper">Teens count at 0.80 of an adult for portion math.</div>
      </div>

      <!-- Appetite -->
      <div class="step" id="step-appetite">
        <div class="step-label">Appetite</div>
        <div class="pills" role="group" aria-label="Appetite">
          <button class="pill" data-hook="appetite" data-mult="0.90" aria-pressed="false">Light</button>
          <button class="pill is-active" data-hook="appetite" data-mult="1.00" aria-pressed="true">Moderate</button>
          <button class="pill" data-hook="appetite" data-mult="1.15" aria-pressed="false">Generous</button>
        </div>
        <div class="whisper">Choose how hearty portions should be.</div>
      </div>

      <!-- Event Length (Meat rules: visible) -->
      <div class="step" id="step-event-length">
        <div class="step-label">Event Length</div>
        <div class="pills" role="group" aria-label="Event Length">
          <button class="pill" data-hook="event-length" data-mult="0.75" aria-pressed="false">Short</button>
          <button class="pill is-active" data-hook="event-length" data-mult="1.00" aria-pressed="true">Standard</button>
          <button class="pill" data-hook="event-length" data-mult="1.25" aria-pressed="false">Long</button>
          <button class="pill" data-hook="event-length" data-mult="1.50" aria-pressed="false">Extended</button>
        </div>
        <div class="whisper">Longer events typically need a bit more.</div>
      </div>

      <!-- Cut Style -->
      <div class="step" id="step-cut-style">
        <div class="step-label">Cut style</div>
        <div class="select-row">
          <label for="cut-style">Choose cut</label>
          <select id="cut-style" data-hook="cut-style">
            <option value="packer" data-cut="packer">Whole packer</option>
            <option value="flat" data-cut="flat">Flat (first cut)</option>
            <option value="point" data-cut="point">Point</option>
          </select>
        </div>
        <div class="whisper">We convert cooked ounces to raw pounds using the shrink for your cut.</div>
      </div>

      <!-- Leftovers removed: handled by hybrid cushion in results note -->

    </section>

    <!-- Pricing -->
    <section class="card pricing" data-section="pricing">
      <div class="step-label">Pricing</div>
      <div class="fields three-up">
        <label for="price-per-lb">Unit price ($/lb)</label>
        <input id="price-per-lb" inputmode="decimal" autocomplete="off" value="6.99" data-hook="price-per-lb">
        <label for="sales-tax">Tax %</label>
        <input id="sales-tax" inputmode="decimal" autocomplete="off" value="0" data-hook="price-tax">
        <label for="fees">Fees ($)</label>
        <input id="fees" inputmode="decimal" autocomplete="off" value="0" data-hook="price-fees">
      </div>
      <div class="whisper">Pricing is optional and for planning only.</div>
    </section>

    <!-- Results -->
    <section class="card results" data-section="results">
      <div class="summary">
        <div class="from-line" id="affirm-line">Based on your guests, appetite, event length, and cut style:</div>
        <div class="big-number">
          <span id="result-total-raw-lb" data-hook="result-total-raw-lb">0</span>
          <span class="unit">lb raw brisket</span>
        </div>
        <div class="sub-numbers">
          <div><span id="result-total-cooked-oz" data-hook="result-total-cooked-oz">0</span> oz cooked total</div>
          <div><span id="result-per-person-cooked-oz" data-hook="result-per-person-cooked-oz">0</span> oz cooked per person</div>
          <div class="price" id="result-price" data-hook="result-price">$0.00 estimated total</div>
        </div>
        <div class="method-note" id="rounding-note">Totals reflect a slight rounding adjustment for realistic portions.</div>
      </div>
      <div class="actions">
        <button class="button" data-hook="print">Print results</button>
      </div>
    </section>

    <!-- Finder -->
    <section class="card finder" data-section="finder">
      <div class="step-label">Finder</div>
      <div class="finder-actions">
        <a class="button primary" data-hook="finder-primary" href="#" rel="noopener">Find brisket near me</a>
        <div class="links">
          <a data-hook="finder-secondary" href="#" rel="noopener">Seafood markets</a>
          <a data-hook="finder-tertiary" href="#" rel="noopener">Grocery stores</a>
        </div>
      </div>
      <div class="whisper">Opens search results in a new tab.</div>
    </section>

    <!-- Legal -->
    <footer class="legal" data-section="legal">
      Use for planning only. DinnerMath provides general portion and cost estimates based on USDA FoodData Central guidelines, catering standards, and typical averages. Results depend on the information you enter. DinnerMath is not responsible for purchasing decisions, food safety, or outcomes based on these estimates. (c) 2025 DinnerMath. All rights reserved.
    </footer>
  </main>

  <!-- Strong select-all on focus/click -->
  <script>
    (function () {
      var ids = ["input-adults","input-teens","input-children","price-per-lb","sales-tax","fees"];
      ids.forEach(function(id){
        var el = document.getElementById(id);
        if(!el) return;
        function sel(){ try { el.select(); } catch(e){} }
        el.addEventListener("focus", sel);
        el.addEventListener("click", sel);
      });
    })();
  </script>
</body>
</html>
