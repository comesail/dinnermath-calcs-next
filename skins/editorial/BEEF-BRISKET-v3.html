<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Beef Brisket Quantity Calculator</title>
<meta name="description" content="Estimate how much beef brisket to buy per person. Enter guests and settings to get raw pounds, with optional pricing.">

<meta name="dm-category" content="meat">
<meta name="dm-food" content="beef brisket">
<meta name="dm-portion-spec" content="v1.8">

<meta name="dm-skin" content="editorial-v1.2">
<link rel="stylesheet" href="./editorial-v1.2.css">
<script defer src="../../engine/engine.v2.js"></script>
<script defer src="../../runner/runner.v2.js"></script>
</head>

<body class="dm-editorial">
<main id="calculator" class="dm-grid">

  <section class="card header" role="region" aria-label="Header">
    <h1>Beef Brisket Quantity Calculator</h1>
    <p class="lede">Enter your guest mix and preferences. We will estimate raw pounds of beef brisket to buy.</p>
    <img class="hero" src="./img/beef-brisket-slug-hero.jpg" alt="Sliced beef brisket on a board">
  </section>

  <section class="card inputs" role="region" aria-label="Inputs">
    <div class="step">
      <div class="step-label">Step 1</div>
      <h2 class="step-title">How many people are you serving?</h2>
      <div class="controls two-col">
        <label class="field"><span>Adults</span><input id="dmAdults" type="number" inputmode="numeric" min="0" step="1" value="10" data-selectall="true"></label>
        <label class="field"><span>Teens</span><input id="dmTeens" type="number" inputmode="numeric" min="0" step="1" value="0" data-selectall="true"></label>
        <label class="field"><span>Children</span><input id="dmChildren" type="number" inputmode="numeric" min="0" step="1" value="0" data-selectall="true"></label>
      </div>
    </div>

    <div class="step">
      <div class="step-label">Step 2</div>
      <h2 class="step-title">How generous would you like the portions to be?</h2>
      <div class="controls one-col">
        <label class="field">
          <span class="visually-hidden">Appetite</span>
          <select id="dmAppetite">
            <option value="0.90">Light — allows for lighter portions</option>
            <option value="1.00" selected>Moderate — allows for standard portions</option>
            <option value="1.15">Generous — allows for heartier portions</option>
          </select>
          <div class="whisper">Allows for lighter/standard/heartier portions.</div>
        </label>
      </div>
    </div>

    <!-- Event Length hidden (fixed 1.00) -->

    <div class="step">
      <div class="step-label">Step 3</div>
      <h2 class="step-title">Will this be the only meat or seafood you are serving?</h2>
      <div class="controls one-col">
        <label class="field">
          <span class="visually-hidden">Role / Meal-Share</span>
          <select id="dmRole">
            <option value="1.00">This is the only meat or seafood being served.</option>
            <option value="0.60">This will be served alongside another meat or seafood.</option>
            <option value="0.45">I only want to serve a small portion of beef brisket.</option>
            <option value="0.35">This is just a tasting or small bite of beef brisket before the meal.</option>
          </select>
        </label>
      </div>
    </div>

    <div class="step">
      <div class="step-label">Step 4</div>
      <h2 class="step-title">Would you like leftovers?</h2>
      <div class="controls one-col">
        <label class="field">
          <span class="visually-hidden">Leftovers</span>
          <select id="dmLeftovers">
            <option value="1.00" selected>None</option>
            <option value="1.10">A little extra</option>
            <option value="1.20">Save a few pieces</option>
          </select>
        </label>
      </div>
    </div>
  </section>

  <section class="card pricing" role="region" aria-label="Pricing">
    <h2 class="section-title">Pricing (optional)</h2>
    <div class="controls two-col">
      <label class="field"><span>Unit price (USD per lb)</span><input id="dmPricePerLb" type="number" inputmode="decimal" min="0" step="0.01" placeholder="e.g., 6.49"></label>
      <label class="field"><span>Sales tax (%)</span><input id="dmTaxPct" type="number" inputmode="decimal" min="0" step="0.1" placeholder="e.g., 7.5"></label>
      <label class="field"><span>Extra fees (USD)</span><input id="dmFees" type="number" inputmode="decimal" min="0" step="0.01" placeholder="e.g., 8.00"></label>
    </div>
    <div class="totals">
      <div class="total-line"><span>Estimated total</span><strong id="dmOutTotal">$-</strong></div>
      <div class="total-line"><span>Per person</span><strong id="dmOutPerPerson">$-</strong></div>
    </div>
  </section>

  <section class="card results" role="region" aria-live="polite" aria-atomic="true">
    <h2 class="section-title">Results</h2>
    <div class="big-number" id="dmOutRaw">-</div>
    <div class="from-line" id="dmOutFrom">Enter your guests and settings to calculate raw pounds to buy.</div>
    <div class="note" id="dmOutRounding">Rounded to the nearest 0.25 lb for shopping.</div>
  </section>

  <section class="card finder" role="region" aria-label="Find brisket near me">
    <div class="finder-actions">
      <a class="btn primary" target="_blank" rel="noopener" href="https://www.google.com/maps/search/beef+brisket+near+me">Find beef brisket near me</a>
      <a class="link" target="_blank" rel="noopener" href="https://www.google.com/maps/search/butcher+shop">Butcher shops</a>
      <a class="link" target="_blank" rel="noopener" href="https://www.google.com/maps/search/grocery+store">Grocery stores</a>
    </div>
  </section>

  <footer class="legal">
    Use for planning only. DinnerMath provides general portion and cost estimates based on USDA FoodData Central guidelines, catering standards, and typical averages. Results depend on the information you enter. DinnerMath is not responsible for purchasing decisions, food safety, or outcomes based on these estimates. (c) 2025 DinnerMath. All rights reserved.
  </footer>

</main>

<script>
(function(){
  function s(el){el.addEventListener('focus',()=>el.select());el.addEventListener('click',()=>el.select());}
  ['dmAdults','dmTeens','dmChildren','dmPricePerLb','dmTaxPct','dmFees'].forEach(id=>{var el=document.getElementById(id);if(el)s(el);});
  var AD=0.234, TE=0.85, CH=0.60, Y=0.60;
  function n(id,d){var el=document.getElementById(id);var v=parseFloat(el&&el.value);return isNaN(v)?d:v;}
  function q(x){return Math.round(x*4)/4;}
  window.DM_COMPUTE=function(){
    var A=n('dmAdults',0),T=n('dmTeens',0),C=n('dmChildren',0);
    var appetite=parseFloat(document.getElementById('dmAppetite').value||'1.00');
    var role=parseFloat(document.getElementById('dmRole').value||'1.00');
    var leftovers=parseFloat(document.getElementById('dmLeftovers').value||'1.00');
    var AE=A+T*TE+C*CH;
    var cooked=AE*AD*appetite*role*leftovers;
    var raw=cooked/Y;
    var disp=q(raw);
    var pplb=n('dmPricePerLb',NaN),tax=n('dmTaxPct',NaN),fees=n('dmFees',NaN);
    var total=null, per=null;
    if(!isNaN(pplb)){var subtotal=disp*pplb; var taxAmt=!isNaN(tax)?subtotal*(tax/100):0; total=subtotal+taxAmt+(!isNaN(fees)?fees:0); var ppl=Math.max(1, Math.round(A+T+C)); per=total/ppl;}
    return {raw_lb:disp,raw_lb_exact:raw,total:total,perPerson:per};
  };
  window.DM_RENDER=function(r){
    var a=document.getElementById('dmOutRaw'),b=document.getElementById('dmOutFrom'),c=document.getElementById('dmOutRounding');
    if(typeof r.raw_lb==='number'){a.textContent=r.raw_lb.toFixed(2).replace(/\.00$/,'');b.textContent='Raw beef brisket to buy (rounded for shopping).';c.textContent='Rounded to the nearest 0.25 lb.';}
    else{a.textContent='-';b.textContent='Enter your guests and settings to calculate raw pounds to buy.';c.textContent='Rounded to the nearest 0.25 lb for shopping.';}
    var t=document.getElementById('dmOutTotal'),p=document.getElementById('dmOutPerPerson');
    if(r.total!=null){t.textContent='$'+r.total.toFixed(2);p.textContent='$'+r.perPerson.toFixed(2);} else {t.textContent='$-';p.textContent='$-';}
  };
  ['dmAdults','dmTeens','dmChildren','dmAppetite','dmRole','dmLeftovers','dmPricePerLb','dmTaxPct','dmFees'].forEach(id=>{var el=document.getElementById(id);if(!el)return;el.addEventListener('input',()=>DM_RENDER(DM_COMPUTE()));el.addEventListener('change',()=>DM_RENDER(DM_COMPUTE()));});
  window.addEventListener('DOMContentLoaded',()=>DM_RENDER(DM_COMPUTE()));
})();
</script>
</body>
</html>
